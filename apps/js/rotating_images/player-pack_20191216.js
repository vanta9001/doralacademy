(function(b){var a=function(j,n){var g=b.extend({},b.fn.nivoSlider.defaults,n);var l={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false};var f=function(q,p,s){for(var o=0;o<p.slices;o++){var r=Math.round(q.width()/p.slices);if(o==p.slices-1){q.append(b('<div class="nivo-slice"></div>').css({left:(r*o)+"px",width:(q.width()-(r*o))+"px",height:"0px",opacity:"0",background:'url("'+s.currentImage.src+'") no-repeat -'+(o*r)+"px 0%"}))}else{q.append(b('<div class="nivo-slice"></div>').css({left:(r*o)+"px",width:r+"px",height:"0px",opacity:"0",background:'url("'+s.currentImage.src+'") no-repeat -'+(o*r)+"px 0%"}))}}};var h=function(q,o,t){var p=Math.round(q.width()/o.boxCols);var u=Math.round(q.height()/o.boxRows);for(var r=0;r<o.boxRows;r++){for(var s=0;s<o.boxCols;s++){q.append(b('<div class="nivo-box"></div>').css({opacity:0,left:(p*s)+"px",top:(u*r)+"px",width:(s==o.boxCols-1?(q.width()-(p*s)):p)+"px",height:(r==o.boxRows-1?(q.height()-(u*r)):u)+"px",background:'url("'+t.currentImage.src+'") no-repeat -'+(s*p)+"px -"+(r*u)+"px"}))}}};var e=function(p,o,s){var r=p.data("nivo:vars");var q=new Image();q.src=g.images[o].src;b(q).load(function(){g.images[o].loaded=true;if(s){s()}})};var m=function(C,F){var B=C.data("nivo:vars");if(B&&(B.currentSlide==B.totalSlides-1)){F.lastSlide.call(this)}b(".nivo-pause",C).hide();if(!B.currentImage.loaded){e(C,B.currentSlide,function(){B.currentSlide-=1;m(C,F)});clearInterval(c);c="";return false}for(var D=0;D<F.preloadQueueLength;++D){var z=parseInt(B.currentSlide)+D+1;if(z>=B.totalSlides){z-=B.totalSlides}if(z>0&&z<B.totalSlides&&!F.images[z].loaded){e(C,z)}}if(!B||B.stop){b(".nivo-pause",C).show();return false}F.beforeChange.call(this);C.css("background",'url("'+B.currentImage.src+'") no-repeat');C.css("backgroundSize","cover");C.css("backgroundPosition","center");B.currentSlide++;if(B.currentSlide==B.totalSlides){B.currentSlide=0;F.slideshowEnd.call(this)}if(B.currentSlide<0){B.currentSlide=(B.totalSlides-1)}B.currentImage=F.images[B.currentSlide];b(".nivo-caption-wrapper",C).html("<div class='nivo-caption' style='"+(typeof B.currentImage.caption!="undefined"&&B.currentImage.caption.show?B.currentImage.caption.styling:"")+"; display: none; position: absolute; z-index: 1000;'>"+(typeof B.currentImage.caption!="undefined"&&B.currentImage.caption.show?B.currentImage.caption.text:"")+"</div>");b(".nivo-imgCount",C).html((B.currentSlide+1)+" / "+B.totalSlides);b(".nivo-slice",C).remove();b(".nivo-box",C).remove();if(F.transition=="random"){var H=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");B.randAnim=H[Math.floor(Math.random()*(H.length+1))];if(B.randAnim==undefined){B.randAnim="fade"}}if(F.transition.indexOf(",")!=-1){var H=F.transition.split(",");B.randAnim=H[Math.floor(Math.random()*(H.length))];if(B.randAnim==undefined){B.randAnim="fade"}}B.running=true;if(F.transition=="sliceDown"||F.transition=="sliceDownRight"||B.randAnim=="sliceDownRight"||F.transition=="sliceDownLeft"||B.randAnim=="sliceDownLeft"){f(C,F,B);var G=0;var D=0;var p=b(".nivo-slice",C);if(F.transition=="sliceDownLeft"||B.randAnim=="sliceDownLeft"){p=b(".nivo-slice",C)._reverse()}p.each(function(){var v=b(this);v.css({top:"0px"});if(D==F.slices-1){setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},F.animationSpeed,"",function(){C.trigger("nivo:animFinished")})},(100+G))}else{setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},F.animationSpeed)},(100+G))}G+=50;D++})}else{if(F.transition=="sliceUp"||F.transition=="sliceUpRight"||B.randAnim=="sliceUpRight"||F.transition=="sliceUpLeft"||B.randAnim=="sliceUpLeft"){f(C,F,B);var G=0;var D=0;var p=b(".nivo-slice",C);if(F.transition=="sliceUpLeft"||B.randAnim=="sliceUpLeft"){p=b(".nivo-slice",C)._reverse()}p.each(function(){var v=b(this);v.css({bottom:"0px"});if(D==F.slices-1){setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},F.animationSpeed,"",function(){C.trigger("nivo:animFinished")})},(100+G))}else{setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},F.animationSpeed)},(100+G))}G+=50;D++})}else{if(F.transition=="sliceUpDown"||F.transition=="sliceUpDownRight"||B.randAnim=="sliceUpDown"||F.transition=="sliceUpDownLeft"||B.randAnim=="sliceUpDownLeft"){f(C,F,B);var G=0;var D=0;var x=0;var p=b(".nivo-slice",C);if(F.transition=="sliceUpDownLeft"||B.randAnim=="sliceUpDownLeft"){p=b(".nivo-slice",C)._reverse()}p.each(function(){var v=b(this);if(D==0){v.css("top","0px");D++}else{v.css("bottom","0px");D=0}if(x==F.slices-1){setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},F.animationSpeed,"",function(){C.trigger("nivo:animFinished")})},(100+G))}else{setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},F.animationSpeed)},(100+G))}G+=50;x++})}else{if(F.transition=="fold"||B.randAnim=="fold"){f(C,F,B);var G=0;var D=0;b(".nivo-slice",C).each(function(){var v=b(this);var I=v.width();v.css({top:"0px",height:"100%",width:"0px"});if(D==F.slices-1){setTimeout(function(){v.animate({width:I,opacity:"1.0"},F.animationSpeed,"",function(){C.trigger("nivo:animFinished")})},(100+G))}else{setTimeout(function(){v.animate({width:I,opacity:"1.0"},F.animationSpeed)},(100+G))}G+=50;D++})}else{if(F.transition=="fade"||B.randAnim=="fade"){var o=C.width();f(C,F,B);var u=b(".nivo-slice:first",C);u.attr("id","nivo-slice-0");u.css({height:"100%",width:o+"px",backgroundSize:"cover",backgroundPosition:"center"});u.animate({opacity:"1.0"},(F.animationSpeed*2),"",function(){C.trigger("nivo:animFinished")})}else{if(F.transition=="slideInRight"||B.randAnim=="slideInRight"){f(C,F,B);var u=b(".nivo-slice:first",C);u.css({height:"100%",width:"0px",opacity:"1"});u.animate({width:C.width()+"px"},(F.animationSpeed*2),"",function(){C.trigger("nivo:animFinished")})}else{if(F.transition=="slideInLeft"||B.randAnim=="slideInLeft"){f(C,F,B);var u=b(".nivo-slice:first",C);u.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"});u.animate({width:C.width()+"px"},(F.animationSpeed*2),"",function(){u.css({left:"0px",right:""});C.trigger("nivo:animFinished")})}else{if(F.transition=="boxRandom"||B.randAnim=="boxRandom"){h(C,F,B);var E=F.boxCols*F.boxRows;var D=0;var G=0;var r=k(b(".nivo-box",C));r.each(function(){var v=b(this);if(D==E-1){setTimeout(function(){v.animate({opacity:"1"},F.animationSpeed,"",function(){C.trigger("nivo:animFinished")})},(100+G))}else{setTimeout(function(){v.animate({opacity:"1"},F.animationSpeed)},(100+G))}G+=20;D++})}else{if(F.transition=="boxRain"||B.randAnim=="boxRain"||F.transition=="boxRainReverse"||B.randAnim=="boxRainReverse"||F.transition=="boxRainGrow"||B.randAnim=="boxRainGrow"||F.transition=="boxRainGrowReverse"||B.randAnim=="boxRainGrowReverse"){h(C,F,B);var E=F.boxCols*F.boxRows;var D=0;var G=0;var t=0;var A=0;var y=new Array();y[t]=new Array();var r=b(".nivo-box",C);if(F.transition=="boxRainReverse"||B.randAnim=="boxRainReverse"||F.transition=="boxRainGrowReverse"||B.randAnim=="boxRainGrowReverse"){r=b(".nivo-box",C)._reverse()}r.each(function(){y[t][A]=b(this);A++;if(A==F.boxCols){t++;A=0;y[t]=new Array()}});for(var w=0;(w<(F.boxCols*3)&&D<E);w++){var q=w;for(var s=0;s<F.boxRows;s++){if(q>=0&&q<F.boxCols){(function(N,I,M,J,O){var L=b(y[N][I]);var v=L.width();var K=L.height();if(F.transition=="boxRainGrow"||B.randAnim=="boxRainGrow"||F.transition=="boxRainGrowReverse"||B.randAnim=="boxRainGrowReverse"){L.width(0).height(0)}if(J==O-1){setTimeout(function(){L.animate({opacity:"1",width:v,height:K},F.animationSpeed/1.3,"",function(){C.trigger("nivo:animFinished")})},(100+M))}else{setTimeout(function(){L.animate({opacity:"1",width:v,height:K},F.animationSpeed/1.3)},(100+M))}})(s,q,G,D,E);D++}q--}G+=100}}}}}}}}}}};var d=b(j);d.data("nivo:vars",l);d.css("position","relative");d.addClass("nivoSlider");d.empty();l.totalSlides=g.images.length;l.currentImage=g.images[l.currentSlide];d.click(function(p){var o=p.target.className;if(o!="nivo-prevNav"&&o!="nivo-imgCount"&&o!="nivo-nextNav"){d.data("nivo:vars").stop=!d.data("nivo:vars").stop}});var c="";if(g.images.length>0){m(d,g)}d.append('<div class="nivo-caption-wrapper"></div>');b(".nivo-caption-wrapper",d).css("position: relative;");d.append('<div class="nivo-pause"></div>');if(g.showNavigation){d.append('<div class="nivo-navigation"><a class="nivo-prevNav"></a><a class="nivo-imgCount"></a><a class="nivo-nextNav"></a></div>');b("a.nivo-prevNav",d).live("click",function(){if(l.running){return false}clearInterval(c);c="";l.currentSlide-=2;m(d,g)});b("a.nivo-imgCount",d).html((l.currentSlide+1)+" / "+l.totalSlides);b("a.nivo-nextNav",d).live("click",function(){if(l.running){return false}clearInterval(c);c="";m(d,g)});if(l.totalSlides>0){b("div.nivo-navigation",d).css("display","block")}}d.bind("nivo:animFinished",function(){l.running=false;b(".nivo-caption",d).css("display","block");if(c==""&&!l.paused){c=setInterval(function(){m(d,g)},g.rotateTime)}g.afterChange.call(this)});var k=function(p){for(var q,o,r=p.length;r;q=parseInt(Math.random()*r),o=p[--r],p[r]=p[q],p[q]=o){}return p};var i=function(o){if(this.console&&typeof console.log!="undefined"){console.log(o)}};this.stop=function(){if(!b(j).data("nivo:vars").stop){b(j).data("nivo:vars").stop=true;i("Stop Slider")}};this.start=function(){if(b(j).data("nivo:vars").stop){b(j).data("nivo:vars").stop=false;i("Start Slider")}};g.afterLoad.call(this);return this};b.fn.nivoSlider=function(c){return this.each(function(e,g){var d=b(this);if(d.data("nivoslider")){return d.data("nivoslider")}var f=new a(this,c);d.data("nivoslider",f)})};b.fn.nivoSlider.defaults={transition:"random",slices:15,boxCols:8,boxRows:4,animationSpeed:500,rotateTime:3000,showNavigation:true,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){},images:[],preloadQueueLength:2};b.fn._reverse=[].reverse})(jQuery);